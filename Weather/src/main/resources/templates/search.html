<!-- search.html -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>지역 날씨 검색</title>
    <link rel="stylesheet" href="/css/search.css">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/script.js"></script>
</head>3
<body>

<h2>지역 검색</h2>

<!-- 검색 폼 (기존처럼 엔터/버튼 검색도 가능) -->
<form th:action="@{/search}" method="get" autocomplete="off">
    <div class="search-box">
        <input id="region-input"
               type="text"
               name="q"
               placeholder="예) 서울, 종로, 인천 서구"
               th:value="${keyword}">
        <button type="submit">검색</button>

        <!-- 자동완성 박스 -->
        <div id="suggest-box" class="suggest-box hidden">
            <ul id="suggest-list"></ul>
        </div>
    </div>
</form>

<hr/>

<!-- 하단 전체 검색 결과(버튼/엔터 눌렀을 때) -->
<div th:if="${results != null}">
    <p th:if="${#lists.isEmpty(results)}">
        검색 결과가 없습니다.
    </p>

    <ul th:if="${!#lists.isEmpty(results)}">
        <li th:each="r : ${results}">
            <a th:href="@{/region/{city}/{district}(city=${r.parentRegion}, district=${r.childRegion})}"
               th:text="${r.parentRegion} + ' ' + ${r.childRegion}">
            </a>
        </li>
    </ul>
</div>
</body>
</html>
